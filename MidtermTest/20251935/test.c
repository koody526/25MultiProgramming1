#include <stdio.h>
#include <conio.h>

// 커서 이동 함수 (ANSI escape)
void gotoxy(int x, int y) {
    printf("\033[%d;%dH", y, x);
}

int main() {
    char ch;

    // ------------------------------
    // 1. 밤하늘 + 산
    // ------------------------------
    printf("                     ·       ·         ·\n");
    printf("                                 ·        \n");
    printf("                                     ·     \n");
    printf("                                /\\    /\\   /\\\n");
    printf("                               /  \\  /  \\ /  \\\n");
    printf("                              /    \\/    X    \\\n");

    // ------------------------------
    // 2. 굴뚝 연기
    // ------------------------------
    printf("                                  \033[47;30m  ()  \033[0m\n");
    printf("                                  \033[47;30m (  ) \033[0m\n");
    printf("                                  \033[47;30m  ()  \033[0m\n");

    // ------------------------------
    // 3. 지붕 (빨강) + 중앙 지붕창
    // ------------------------------
    printf("          \033[41;97m            /\\                \033[0m\n");
    printf("          \033[41;97m           /  \\_______        \033[0m\n");
    printf("          \033[41;97m          /         \\         \033[0m\n");
    printf("          \033[41;97m         /   \033[43;97m[■]\033[41;97m     \\        \033[0m\n");
    printf("          \033[41;97m        /________________\\     \033[0m\n");

    // ------------------------------
    // 4. "나는 잘 시험을 보고있나?" 지붕 위 텍스트
    // 창문보다 2칸 위 = 대략 (x=15, y=9)
    // ------------------------------
    gotoxy(15, 9);
    printf("\033[32;45m나는 잘 시험을 보고있나?\033[0m");

    // ------------------------------
    // 5. 창문 + 벽체 (노랑 + 검은 선)
    // ------------------------------
    printf("\n");
    printf("          \033[43;30m | | | | | | | | | | | | | \033[0m\n");
    printf("          \033[43;30m | \033[44;97m[■][■]\033[43;30m     \033[44;97m[■][■]\033[43;30m  | \033[0m\n");
    printf("          \033[43;30m | | | | | | | | | | | | | \033[0m\n");
    printf("          \033[43;30m | | | | | | | | | | | | | \033[0m\n");

    // ------------------------------
    // 6. 잔디
    // ------------------------------
    printf("          \033[42;30m_____________________________\033[0m\n");

    // ------------------------------
    // 7. 입력
    // ------------------------------
    gotoxy(5, 17);
    printf("y 또는 n을 눌러보세요: ");
    ch = _getch();

    // ------------------------------
    // 8. 분기 처리
    // ------------------------------
    if (ch == 'n') {
        // n → 팝업 출력 (종료 X)
        gotoxy(30, 10);
        printf("\033[44;97m+----------------------+ \033[0m");
        gotoxy(30, 11);
        printf("\033[44;97m|  당신 잘하고 있어!   | \033[0m");
        gotoxy(30, 12);
        printf("\033[44;97m+----------------------+ \033[0m");
        _getch();
    }
    else if (ch == 'y') {
        // y → 팝업 후 종료
        gotoxy(30, 10);
        printf("\033[44;97m+----------------------+ \033[0m");
        gotoxy(30, 11);
        printf("\033[44;97m|  당신 잘하고 있어!   | \033[0m");
        gotoxy(30, 12);
        printf("\033[44;97m+----------------------+ \033[0m");
        return 0;
    }
    else {
        // 다른 키 → 그림 아래 빨간 메시지
        gotoxy(5, 19);
        printf("\033[31m다시 입력해주세요!!!\033[0m");
        _getch();
    }

    gotoxy(0, 21); // 마무리
    return 0;
}

